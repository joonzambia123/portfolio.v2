/* Google Fonts for Korean text */
@import url('https://fonts.googleapis.com/css2?family=Nanum+Brush+Script&family=Noto+Serif+KR:wght@400&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Safe area insets for notched phones (iPhone X+) */
:root {
  --safe-area-top: env(safe-area-inset-top, 0px);
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-left: env(safe-area-inset-left, 0px);
  --safe-area-right: env(safe-area-inset-right, 0px);
}

/* Hover trigger wrapper - stable hover zone that prevents flicker.
   The wrapper stays static while the child animates on hover. */

/* Font Face Declarations - WOFF2 for smaller file size, OTF fallback */
@font-face {
  font-family: 'Calluna';
  src: url('./fonts/Calluna-Regular.woff2') format('woff2'),
       url('./fonts/Calluna-Regular.otf') format('opentype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Graphik';
  src: url('./fonts/GraphikRegular.woff2') format('woff2'),
       url('./fonts/GraphikRegular.otf') format('opentype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Graphik';
  src: url('./fonts/GraphikMedium.woff2') format('woff2'),
       url('./fonts/GraphikMedium.otf') format('opentype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@layer base {
  body {
    margin: 0;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Optimize text rendering */
    text-rendering: optimizeSpeed;
  }

  * {
    box-sizing: border-box;
  }

  /* Optimize paint for fixed elements */
  .fixed {
    will-change: transform;
    contain: layout style;
  }

  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Focus-visible styles for keyboard navigation accessibility */
  button:focus-visible,
  a:focus-visible {
    outline: 2px solid #2480ED;
    outline-offset: 2px;
    border-radius: 4px;
  }

  /* Remove default focus outline for mouse users */
  button:focus:not(:focus-visible),
  a:focus:not(:focus-visible) {
    outline: none;
  }

  /* Screen reader only - visually hidden but accessible */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Page transition animation */
  .page-enter {
    animation: pageEnter 400ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  @keyframes pageEnter {
    from {
      opacity: 0;
      transform: translateY(12px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Timeline photo fade animation */
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* Timeline text slide animations */
  @keyframes timelineSlideUp {
    from {
      transform: translateY(-20px);
      opacity: 0.7;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes timelineSlideDown {
    from {
      transform: translateY(20px);
      opacity: 0.7;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  .timeline-slide-up {
    animation: timelineSlideUp 380ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }

  .timeline-slide-down {
    animation: timelineSlideDown 380ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }

  /* Native dotted underlines */
  .dotted-underline-blue,
  .dotted-underline-grey,
  a.dotted-underline-blue,
  a.dotted-underline-grey {
    text-decoration: underline dotted;
    text-decoration-thickness: 2px;
    text-underline-offset: 3px;
    display: inline;
  }
}

/* Safari fallback - use simple underline instead of dotted */
/* Safari doesn't properly support text-decoration: underline dotted */
.safari .dotted-underline-blue,
.safari .dotted-underline-grey,
.safari a.dotted-underline-blue,
.safari a.dotted-underline-grey {
  text-decoration: none !important;
  position: relative;
  display: inline;
}

.safari .dotted-underline-blue::after,
.safari .dotted-underline-grey::after,
.safari a.dotted-underline-blue::after,
.safari a.dotted-underline-grey::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -0.12em;
  width: 100%;
  height: 0.12em;
  background-color: #E6E6E6;
  border-radius: 9999px;
  transition: background-color 0.15s cubic-bezier(0.44, 0, 0.56, 1);
}

/* Safari hover states for grey dotted underlines */
.safari .dotted-underline-grey:hover::after,
.safari a.dotted-underline-grey:hover::after {
  background-color: #9AC8FC;
}

.safari .dotted-underline-grey:hover,
.safari a.dotted-underline-grey:hover {
  color: #2480ED !important;
  cursor: pointer;
}

/* Safari hover states for blue dotted underlines */
.safari .dotted-underline-blue:hover::after,
.safari a.dotted-underline-blue:hover::after {
  background-color: #2480ED;
}

.safari .dotted-underline-blue:hover,
.safari a.dotted-underline-blue:hover {
  color: #2480ED !important;
  cursor: pointer;
}

/* Safari-specific padding and centering fix for clock component */
.safari div[class*="h-[35px]"][class*="rounded-[20px]"] {
  padding-top: 10px !important;
  padding-right: 10px !important;
  padding-bottom: 10px !important;
  padding-left: 8px !important;
  box-sizing: border-box !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Safari-specific fix: move time component text down by 1px */
.safari div[class*="h-[35px]"][class*="rounded-[20px]"] > div[class*="flex"][class*="font-graphik"][class*="gap-[8px]"] {
  transform: translateY(1px);
}

/* Coordinates arrow alignment - all browsers */
.coord-arrow-svg {
  display: inline-block;
  width: 12px;
  height: 12px;
  vertical-align: middle;
  flex-shrink: 0;
}

/* Safari-specific fix for arrow vertical alignment */
.safari .coord-arrow-svg {
  top: calc(50% - 1px) !important;
  transform: translateY(-50%) !important;
  vertical-align: baseline;
}

/* Text selection/highlight colors */
::selection {
background-color: #E8F6FF;
  color: #2991DF;
}

::-moz-selection {
  background-color: #E8F6FF;
  color: #2991DF;
}

/* Lock everything in place above 813px - prevent any responsive changes */
@media (min-width: 814px) {
  /* Main content centering - content width is 375 + 50 + 346 = 771px */
  /* Force all fixed widths to stay exactly as specified */

  [class*="w-[375px]"] {
    width: 375px !important;
    max-width: 375px !important;
    min-width: 375px !important;
  }

  [class*="w-[308px]"] {
    width: 308px !important;
    max-width: 308px !important;
    min-width: 308px !important;
  }

  [class*="w-[346px]"] {
    width: 346px !important;
    max-width: 346px !important;
    min-width: 346px !important;
  }

  [class*="h-[470px]"] {
    height: 470px !important;
    min-height: 470px !important;
    max-height: 470px !important;
  }

  [class*="w-[362px]"] {
    width: 362px !important;
    max-width: 362px !important;
    min-width: 362px !important;
  }

  [class*="gap-[50px]"] {
    gap: 50px !important;
    flex-direction: row !important;
  }

  /* Ensure main content wrapper is centered - content is 771px wide (375 + 50 + 346) */
  .main-content-wrapper {
    width: 771px !important;
    margin-left: auto !important;
    margin-right: auto !important;
    /* Performance: contain layout to prevent reflows affecting other content */
    contain: layout style;
    display: flex !important;
    justify-content: center !important;
  }

  /* Center the parent container both horizontally and vertically on large screens */
  .w-full.pt-\[180px\].pb-\[150px\].flex.justify-center {
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    min-height: 100vh !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
  }
}

/* Responsive styles - only apply below 813px */
@media (max-width: 813px) {
  /* Main content wrapper - responsive padding and full width */
  .main-content-wrapper {
    width: 100% !important;
    max-width: 100% !important;
    padding-left: 1.5rem !important;
    padding-right: 1.5rem !important;
  }

  /* Content layout - stack vertically */
  [class*="gap-[50px]"] {
    flex-direction: column !important;
    gap: 2rem !important;
  }

  /* Text column - full width */
  [class*="w-[375px]"] {
    width: 100% !important;
    max-width: 100% !important;
  }

  /* Heading - full width */
  [class*="w-[308px]"] {
    width: 100% !important;
    max-width: 100% !important;
  }

  /* Image card - responsive */
  [class*="w-[346px]"] {
    width: 100% !important;
    max-width: 100% !important;
  }

  [class*="h-[470px]"] {
    height: auto !important;
    min-height: 420px !important;
  }

  /* Bottom section - responsive */
  [class*="w-[362px]"] {
    width: auto !important;
    min-width: 0 !important;
    flex: 1 !important;
  }

  /* Light navigation bar - mobile responsive */
  .light-nav-bar {
    height: 56px !important;
    padding-left: 16px !important;
    padding-right: 16px !important;
  }

  /* Hide center nav links on mobile */
  .light-nav-bar > nav.absolute {
    display: none !important;
  }

  /* Smaller buttons on mobile */
  .light-nav-bar .nav-light-button {
    height: 32px !important;
  }

  /* Dark navigation bar - mobile responsive */
  .dark-nav-bar {
    height: 56px !important;
    padding-left: 16px !important;
    padding-right: 16px !important;
  }

  /* Hide center nav links on mobile */
  .dark-nav-bar > nav.absolute {
    display: none !important;
  }

  /* Smaller buttons on mobile */
  .dark-nav-bar .nav-dark-button {
    height: 32px !important;
  }

  .dark-nav-bar .nav-dark-button[class*="w-[37px]"] {
    width: 34px !important;
  }

  /* === HOME PAGE MOBILE LAYOUT === */

  /* Stack vertically, center, preserve desktop text column width */
  .main-content-wrapper {
    flex-direction: column !important;
    align-items: center !important;
    max-width: 500px !important;
    margin: 0 auto !important;
    padding: 0 24px !important;
    gap: 0 !important;
  }

  /* Flatten left column so children can reorder */
  .home-left-column {
    display: contents !important;
  }

  /* Reorder: time → heading → video → bio */
  .home-time-component { order: 1; margin: 0 auto 15px; }
  .home-heading { order: 2; text-align: center; margin-bottom: 20px; }
  .home-video-frame { order: 3; margin-top: 0 !important; max-width: 100% !important; }
  .home-bio { order: 4; text-align: left; margin-top: 28px; padding: 0 8px; width: 100%; }

  /* Vertical padding — more top space so clock clears nav bar comfortably */
  main.page-enter {
    padding-top: 120px !important;
    padding-bottom: 100px !important;
  }

  /* === BOTTOM NAV PILL === */

  .bottom-pill-outer {
    bottom: 24px !important;
    max-width: calc(100vw - 32px) !important;
    width: auto !important;
  }

  .music-pill-wrapper {
    width: auto !important;
    max-width: 45vw;
    flex-shrink: 1 !important;
    min-width: 0;
  }

  .music-pill-wrapper .music-text-container {
    overflow: hidden;
  }

  /* Force marquee text to respect the shrunk pill width on mobile */
  .music-pill-wrapper .music-text-container > div {
    max-width: calc(45vw - 100px) !important;
  }

  .bottom-pill-container {
    width: 100% !important;
  }

  .pill-buttons-section {
    flex-shrink: 1 !important;
    min-width: 0;
    width: auto !important;
    gap: clamp(6px, 1.2vw, 10px) !important;
    overflow: hidden;
  }

  .pill-buttons-inner {
    gap: clamp(6px, 1.2vw, 10px);
  }

  .pill-buttons-section button {
    width: 37px !important;
    height: 37px !important;
    min-width: 37px !important;
    flex-shrink: 0 !important;
    padding: 0 !important;
  }

  /* On mobile, buttons are separate (with gap), so keep all borders */
  .hover-trigger:has(+ .hover-trigger) > .bottom-button {
    border-right: 1px solid rgba(235, 238, 245, 0.85) !important;
  }

  /* === AMBIENT CONTEXT CARD (mobile) === */
  .ambient-card-backdrop {
    background: rgba(0, 0, 0, 0.15);
  }

  .ambient-map {
    width: 100% !important;
    height: 110px !important;
  }
}

/* Phone-specific styles (≤ 480px) */
@media (max-width: 480px) {
  .main-content-wrapper {
    padding: 0 16px !important;
  }

  .bottom-pill-outer {
    bottom: calc(16px + var(--safe-area-bottom, 0px)) !important;
  }
}

/* === HAMBURGER ICON === */
.hamburger-bars {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 17px;
  height: 17px;
  gap: 3.5px;
}

.hamburger-bars span {
  display: block;
  width: 13px;
  height: 1.5px;
  background: #aaa;
  border-radius: 1px;
  transition: transform 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94),
              opacity 200ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.hamburger-bars.open span:first-child {
  transform: translateY(5px) rotate(45deg);
}

.hamburger-bars.open span:nth-child(2) {
  opacity: 0;
}

.hamburger-bars.open span:last-child {
  transform: translateY(-5px) rotate(-45deg);
}

/* === MOBILE NAV DRAWER === */
.mobile-nav-drawer {
  display: grid;
  grid-template-rows: 0fr;
  transition: grid-template-rows 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
  background: rgba(252, 252, 252, 0.95);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  position: relative;
  z-index: 30;
}

.mobile-nav-drawer > .mobile-nav-drawer-inner {
  overflow: hidden;
}

.mobile-nav-drawer > .mobile-nav-drawer-inner > nav {
  border-bottom: 1px solid #EAEAEA;
}

.mobile-nav-drawer.open {
  grid-template-rows: 1fr;
}

/* Face detection zone is mouse-only; disable on touch devices to prevent blocking drawer taps */
@media (max-width: 813px) {
  .face-detection-zone {
    pointer-events: none !important;
  }
}

/* Link stagger enter animation */
@keyframes menuItemEnter {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.mobile-nav-drawer.open .mobile-nav-link,
.mobile-nav-drawer.open .mobile-nav-search {
  animation: menuItemEnter 250ms cubic-bezier(0.22, 1, 0.36, 1) both;
}

.mobile-nav-drawer.open .mobile-nav-link:nth-child(1) { animation-delay: 60ms; }
.mobile-nav-drawer.open .mobile-nav-link:nth-child(2) { animation-delay: 110ms; }
.mobile-nav-drawer.open .mobile-nav-link:nth-child(3) { animation-delay: 160ms; }
.mobile-nav-drawer.open .mobile-nav-link:nth-child(4) { animation-delay: 210ms; }
.mobile-nav-drawer.open .mobile-nav-link:nth-child(5) { animation-delay: 260ms; }
.mobile-nav-drawer.open .mobile-nav-search { animation-delay: 310ms; }

.mobile-nav-link {
  cursor: pointer;
  border: none;
  background: none;
}

.mobile-nav-link:hover,
.mobile-nav-link:active {
  background-color: #f3f3f3;
}

/* Video frame hover shadow - subtle skeuomorphic effect */
.video-frame-hover {
  box-shadow:
    0 1px 3px rgba(0, 0, 0, 0.04),
    0 2px 6px rgba(0, 0, 0, 0.02),
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    inset 0 -1px 0 rgba(0, 0, 0, 0.05);
  border: 1px solid rgba(0, 0, 0, 0.05);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.01) 0%, rgba(0, 0, 0, 0.01) 100%);
  transition: box-shadow 320ms ease-in-out, border-color 320ms ease-in-out;
  position: relative;
  /* Performance: contain layout to prevent reflows affecting other content */
  contain: layout style paint;
}

.video-frame-hover::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 30%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.015) 0%, transparent 100%);
  border-radius: 14px 14px 0 0;
  pointer-events: none;
  z-index: 1;
}

.video-frame-hover:hover {
  box-shadow: 
    0 3px 8px rgba(0, 0, 0, 0.08),
    0 6px 16px rgba(0, 0, 0, 0.05),
    inset 0 1px 0 rgba(255, 255, 255, 0.08),
    inset 0 -1px 0 rgba(0, 0, 0, 0.08);
  border-color: rgba(0, 0, 0, 0.03);
}

/* Black box slide-up animation with spring-like motion */
.black-box-slide {
  /* Moderate bounce when sliding down */
  transition: height 450ms cubic-bezier(0.34, 1.35, 0.64, 1),
              opacity 450ms cubic-bezier(0.34, 1.35, 0.64, 1),
              filter 450ms cubic-bezier(0.34, 1.35, 0.64, 1);
  opacity: 1;
  filter: blur(0px);
}

.group:hover .black-box-slide {
  /* Subtle bounce when sliding up */
  transition: height 400ms cubic-bezier(0.34, 1.25, 0.64, 1),
              opacity 400ms cubic-bezier(0.34, 1.25, 0.64, 1),
              filter 400ms cubic-bezier(0.34, 1.25, 0.64, 1);
  opacity: 1;
  filter: blur(0px);
}

.group:not(:hover) .black-box-slide {
  transition: height 450ms cubic-bezier(0.34, 1.35, 0.64, 1),
              opacity 450ms cubic-bezier(0.34, 1.35, 0.64, 1),
              filter 450ms cubic-bezier(0.34, 1.35, 0.64, 1);
}

/* Metadata text animation matching black box slide */
.metadata-fade {
  transition: opacity 450ms cubic-bezier(0.34, 1.35, 0.64, 1),
              transform 450ms cubic-bezier(0.34, 1.35, 0.64, 1);
  opacity: 0;
  transform: translateY(10px);
}

.group:hover .metadata-fade {
  transition: opacity 400ms cubic-bezier(0.34, 1.25, 0.64, 1),
              transform 400ms cubic-bezier(0.34, 1.25, 0.64, 1);
  opacity: 1;
  transform: translateY(0);
}

.group:not(:hover) .metadata-fade {
  transition: opacity 450ms cubic-bezier(0.34, 1.35, 0.64, 1),
              transform 450ms cubic-bezier(0.34, 1.35, 0.64, 1);
}

/* Black box subtle jiggle hint animation */
.black-box-jiggle {
  animation: subtleJiggle 600ms ease-in-out;
}

/* Stop jiggle animation immediately when hovering on video frame or black box */
.video-frame-hover:hover .black-box-jiggle,
.video-frame-hover:hover .black-box-container,
.video-frame-hover:hover ~ .black-box-container .black-box-jiggle,
.black-box-container:hover .black-box-jiggle,
.group:hover .black-box-jiggle {
  animation: none !important;
  transform: translateY(0) translateX(0) !important;
  transition: none !important;
}

/* Liquid glass info button hover effect */
.info-glass-button:hover {
  background: rgba(255, 255, 255, 0.15) !important;
  box-shadow:
    0 4px 24px rgba(0, 0, 0, 0.08),
    0 0 20px rgba(255, 255, 255, 0.15),
    inset 0 0 0 0.5px rgba(255, 255, 255, 0.25) !important;
  border-color: rgba(255, 255, 255, 0.2) !important;
}

@keyframes subtleJiggle {
  0%, 100% {
    transform: translateY(0);
  }
  25% {
    transform: translateY(-3px);
  }
  50% {
    transform: translateY(-1px);
  }
  75% {
    transform: translateY(-2px);
  }
}

/* Black box text fade animation on video change */
.black-box-text {
  opacity: 1;
  transform: translateY(0);
  animation: textFadeIn 300ms ease-in-out;
}

@keyframes textFadeIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Component loader animations — directional variants with spring settle */
.component-hidden {
  opacity: 0;
  will-change: opacity, transform;
  transition: opacity 600ms cubic-bezier(0.22, 1, 0.36, 1),
              transform 700ms cubic-bezier(0.22, 1, 0.36, 1);
}

.component-hidden.from-left {
  transform: translateX(-16px);
}

.component-hidden.from-right {
  transform: translateX(20px);
}

.component-hidden.from-bottom {
  transform: translate(-50%, 20px);
}

.component-hidden.from-top {
  transform: translateY(-16px);
  visibility: hidden;
  transition: opacity 600ms cubic-bezier(0.22, 1, 0.36, 1),
              transform 700ms cubic-bezier(0.22, 1, 0.36, 1),
              visibility 0ms;
}

.component-loaded {
  opacity: 1;
  transform: translateX(0);
  transition: opacity 600ms cubic-bezier(0.22, 1, 0.36, 1),
              transform 700ms cubic-bezier(0.22, 1, 0.36, 1);
}

.component-loaded.from-bottom {
  transform: translate(-50%, 0);
}

.component-loaded.from-top {
  visibility: visible;
  transition: opacity 450ms cubic-bezier(0.22, 1, 0.36, 1),
              transform 500ms cubic-bezier(0.34, 1.56, 0.64, 1),
              visibility 0ms,
              background-color 300ms ease,
              backdrop-filter 300ms ease;
}

/* Ambient Context Card - exit animation (CSS keyframes so 60fps clock re-renders can't disrupt it) */
.ambient-card-exit {
  animation: ambientCardExit 250ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes ambientCardExit {
  from {
    opacity: 1;
    filter: blur(0px);
    transform: scale(1);
  }
  to {
    opacity: 0;
    filter: blur(4px);
    transform: scale(0.97);
  }
}

/* Mobile exit preserves translateX(-50%) centering */
@media (max-width: 813px) {
  @keyframes ambientCardExit {
    from {
      opacity: 1;
      filter: blur(0px);
      transform: translateX(-50%) scale(1);
    }
    to {
      opacity: 0;
      filter: blur(4px);
      transform: translateX(-50%) scale(0.97);
    }
  }
}

/* Leaflet overrides for ambient map */
.ambient-map .leaflet-control-attribution {
  display: none;
}

.ambient-map .leaflet-container {
  background: #f8f8f8;
}

.ambient-map-marker {
  width: 8px !important;
  height: 8px !important;
  background: #5b5b5e;
  border-radius: 50%;
  border: none;
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.8), 0 0 4px rgba(0, 0, 0, 0.15);
}

/* Skeuomorphic nav pill container - matches bottom pill style */
.nav-pill-container {
  background: linear-gradient(180deg, #ffffff 0%, #fcfcfc 100%);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.04),
    0 2px 4px rgba(0, 0, 0, 0.02),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(235, 238, 245, 0.9);
  position: relative;
  overflow: visible;
}

.nav-pill-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.1) 0%, transparent 100%);
  border-radius: 14px 14px 0 0;
  pointer-events: none;
}

/* Light navigation bar - clean minimal style */
.light-nav-bar {
  background: transparent;
  position: relative;
}

/* Name button - subtle skeuomorphic style matching clock component */
.nav-name-button {
  background: linear-gradient(180deg, #ffffff 0%, #fdfdfd 100%);
  border: 1px solid #ebeef5;
  position: relative;
  transition: all 150ms ease-in-out;
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.03),
    inset 0 1px 0 rgba(255, 255, 255, 0.9),
    inset 0 -1px 0 rgba(0, 0, 0, 0.015);
}

.nav-name-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.6) 0%, transparent 100%);
  border-radius: 7px 7px 0 0;
  pointer-events: none;
}

.nav-name-button:hover {
  border-color: #dde1e8;
  box-shadow:
    0 2px 4px rgba(0, 0, 0, 0.05),
    inset 0 1px 0 rgba(255, 255, 255, 0.95),
    inset 0 -1px 0 rgba(0, 0, 0, 0.02);
}

.nav-name-button:active {
  background: linear-gradient(180deg, #f9f9f9 0%, #f5f5f5 100%);
  transform: translateY(0.5px);
  box-shadow:
    0 1px 1px rgba(0, 0, 0, 0.03),
    inset 0 1px 1px rgba(0, 0, 0, 0.02);
}

/* Nav icon button - for standalone icons in navbar */
.nav-icon-button {
  background: transparent;
  border: none;
  padding: 4px;
  transition: opacity 150ms ease;
}

.nav-icon-button:hover {
  opacity: 0.8;
}

.nav-icon-button:active {
  opacity: 0.6;
}

/* Dark navigation bar - skeuomorphic style matching black pill component */
.dark-nav-bar {
  background: linear-gradient(180deg, #2a2a2b 0%, #1f1f20 100%);
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.3),
    0 4px 16px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    inset 0 -1px 0 rgba(0, 0, 0, 0.5);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  position: relative;
}

.dark-nav-bar::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.04) 0%, transparent 100%);
  pointer-events: none;
  z-index: 0;
}

.dark-nav-bar::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 30%;
  background: linear-gradient(0deg, rgba(0, 0, 0, 0.2) 0%, transparent 100%);
  pointer-events: none;
  z-index: 0;
}

/* Dark pill button - for name and icon buttons in dark navbar */
.nav-dark-button {
  background: linear-gradient(180deg, #2a2a2b 0%, #222122 100%);
  border: 1px solid #4a474a;
  border-radius: 8px;
  position: relative;
  transition: all 150ms ease-in-out;
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.04),
    inset 0 -1px 0 rgba(0, 0, 0, 0.3);
  z-index: 1;
}

.nav-dark-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.05) 0%, transparent 100%);
  border-radius: 7px 7px 0 0;
  pointer-events: none;
}

.nav-dark-button:hover {
  background: linear-gradient(180deg, #333334 0%, #2a2a2b 100%);
  border-color: #5a575a;
  box-shadow:
    0 2px 4px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.06),
    inset 0 -1px 0 rgba(0, 0, 0, 0.3);
}

.nav-dark-button:active {
  background: linear-gradient(180deg, #222122 0%, #1a1a1b 100%);
  transform: translateY(1px);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(0, 0, 0, 0.2),
    inset 0 -1px 0 rgba(255, 255, 255, 0.02);
}

/* Legacy white top-nav-bar (kept for reference/fallback) */
.top-nav-bar {
  background: linear-gradient(180deg, #ffffff 0%, #fcfcfc 100%);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.02),
    0 1px 3px rgba(0, 0, 0, 0.01),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(235, 238, 245, 0.9);
  position: relative;
  overflow: visible;
}

.top-nav-bar::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.1) 0%, transparent 100%);
  border-radius: 14px 14px 0 0;
  pointer-events: none;
}

/* Nav text links - subtle hover effect (light mode) */
.nav-text-link {
  background: transparent;
  border: none;
  transition: color 150ms ease;
  user-select: none;
}

.nav-text-link:hover {
  color: #5b5b5e;
}

.nav-text-link:active {
  color: #1a1a1a;
}

/* Nav text links - dark mode */
.nav-text-link-dark {
  background: transparent;
  border: none;
  padding: 0;
  transition: color 150ms ease;
  user-select: none;
  position: relative;
  z-index: 1;
}

.nav-text-link-dark:hover {
  color: #e6eaee;
}

.nav-text-link-dark:active {
  color: #ffffff;
}

/* Top navbar left pill - logo/name */
.nav-pill-left {
  background: linear-gradient(180deg, #ffffff 0%, #fcfcfc 100%);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.04),
    0 2px 4px rgba(0, 0, 0, 0.02),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(235, 238, 245, 0.9);
  position: relative;
  transition: all 180ms cubic-bezier(0.34, 1.2, 0.64, 1);
  user-select: none;
}

.nav-pill-left:hover {
  background: linear-gradient(180deg, #fefefe 0%, #fafafa 100%);
  box-shadow:
    0 2px 6px rgba(0, 0, 0, 0.06),
    0 1px 2px rgba(0, 0, 0, 0.03),
    inset 0 1px 0 rgba(255, 255, 255, 0.6),
    inset 0 -1px 0 rgba(0, 0, 0, 0.02);
}

.nav-pill-left:active {
  background: linear-gradient(180deg, #f3f3f5 0%, #f7f7f8 100%);
  box-shadow:
    inset 0 1px 2px rgba(0, 0, 0, 0.06),
    inset 0 0.5px 1px rgba(0, 0, 0, 0.04);
  border: 1px solid rgba(220, 224, 235, 0.9);
  transform: translateY(0);
  transition: all 70ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Top navbar right pill - nav links container */
.nav-pill-right {
  background: linear-gradient(180deg, #ffffff 0%, #fcfcfc 100%);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.04),
    0 2px 4px rgba(0, 0, 0, 0.02),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(235, 238, 245, 0.9);
  position: relative;
}

/* Nav link buttons inside the right pill */
.nav-link {
  background: transparent;
  border: none;
  position: relative;
  transition: all 150ms cubic-bezier(0.34, 1.2, 0.64, 1);
  user-select: none;
}

.nav-link:hover {
  background: linear-gradient(180deg, #f5f5f6 0%, #f0f0f2 100%);
  box-shadow:
    0 0.5px 1px rgba(0, 0, 0, 0.04),
    inset 0 0.5px 0 rgba(255, 255, 255, 0.5);
}

.nav-link:hover span {
  color: #333333;
}

.nav-link:active {
  background: linear-gradient(180deg, #ebebed 0%, #f0f0f2 100%);
  box-shadow:
    inset 0 1px 2px rgba(0, 0, 0, 0.06),
    inset 0 0.5px 1px rgba(0, 0, 0, 0.03);
  transform: scale(0.98);
  transition: all 50ms ease;
}

/* Skeuomorphic bottom pill container */
.bottom-pill-container {
  background: linear-gradient(180deg, #ffffff 0%, #fcfcfc 100%);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.02),
    0 1px 3px rgba(0, 0, 0, 0.01),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(235, 238, 245, 0.9);
  position: relative;
  overflow: visible;
}

/* Divider line in bottom pill */
.pill-divider {
  background: rgba(235, 238, 245, 0.85) !important;
  width: 1px !important;
  height: 100% !important;
  flex-shrink: 0 !important;
  z-index: 1;
}

.pill-buttons-section {
  gap: clamp(6px, 1.2vw, 10px);
}

.bottom-pill-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.1) 0%, transparent 100%);
  border-radius: 14px 14px 0 0;
  pointer-events: none;
}

/* Vinyl record animation */
.vinyl-container {
  perspective: 1000px;
}

.vinyl-record {
  transform-style: preserve-3d;
  box-shadow: 
    0 1px 3px rgba(0, 0, 0, 0.25),
    0 2px 4px rgba(0, 0, 0, 0.15),
    inset 0 0.5px 1px rgba(255, 255, 255, 0.06),
    inset 0 -1px 2px rgba(0, 0, 0, 0.3);
}

/* Vinyl sheen effect */
.vinyl-sheen {
  background: linear-gradient(
    135deg,
    transparent 30%,
    rgba(255, 255, 255, 0.06) 45%,
    rgba(255, 255, 255, 0.1) 50%,
    rgba(255, 255, 255, 0.06) 55%,
    transparent 70%
  );
  pointer-events: none;
}

/* Always spinning vinyl - consistent speed */
.vinyl-spin {
  animation: spin-vinyl 4s linear infinite;
}

@keyframes spin-vinyl {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Vinyl glow when preview is playing */
.vinyl-playing {
  box-shadow: 0 0 12px 2px rgba(230, 234, 238, 0.25);
  transition: box-shadow 0.5s ease-in-out;
}

/* Floating music notes */
.music-notes-container {
  z-index: 30;
  overflow: visible !important;
}

.music-note {
  position: absolute;
  font-size: 11px;
  opacity: 0;
  pointer-events: none;
  font-weight: 500;
  transition: opacity 500ms ease-out;
}

/* Note positions - clustered near top-left of vinyl */
.note-1 {
  top: -6px;
  left: -4px;
}

.note-2 {
  top: 2px;
  left: -10px;
}

.note-3 {
  top: -2px;
  left: 6px;
}

.note-4 {
  top: 8px;
  left: -6px;
}

/* Animate notes on hover - simple unified animation (optimized for performance) */
.group\/vinyl:hover .note-1 {
  animation: float-note 2.5s ease-out infinite;
  animation-delay: 0.4s;
}

.group\/vinyl:hover .note-2 {
  animation: float-note 2.5s ease-out infinite;
  animation-delay: 0.8s;
}

.group\/vinyl:hover .note-3 {
  animation: float-note 2.5s ease-out infinite;
  animation-delay: 1.2s;
}

.group\/vinyl:hover .note-4 {
  animation: float-note 2.5s ease-out infinite;
  animation-delay: 1.6s;
}

/* Performance-optimized: uses transform and opacity (GPU-accelerated) */
@keyframes float-note {
  0% {
    opacity: 0;
    transform: translateY(0) translateX(0) scale(0.8);
  }
  10% {
    opacity: 0.6;
  }
  50% {
    opacity: 0.5;
    transform: translateY(-10px) translateX(-2px) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-18px) translateX(-4px) scale(0.9);
  }
}

/* Smooth exit - notes fade out gracefully when hover ends */
.group\/vinyl:not(:hover) .music-note {
  opacity: 0;
  animation: none;
  transition: opacity 800ms ease-out;
}

/* Sleeping z's animation */
.sleep-z {
  opacity: 0;
  will-change: transform, opacity;
}

.sleep-z-1 {
  animation: float-z 3s ease-out infinite;
}

.sleep-z-2 {
  animation: float-z 3s ease-out infinite;
  animation-delay: 1s;
}

.sleep-z-3 {
  animation: float-z 3s ease-out infinite;
  animation-delay: 2s;
}

@keyframes float-z {
  0% {
    opacity: 0;
    transform: translateY(0) translateX(0) scale(0.6);
  }
  15% {
    opacity: 0.7;
  }
  50% {
    opacity: 0.5;
    transform: translateY(-12px) translateX(4px) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-22px) translateX(8px) scale(0.7);
  }
}

/* Shortcuts modal - ⌘K indicator with skeuomorphic style */
.shortcuts-modal {
  bottom: calc(100% + 10px);
  left: 142px;
  transform: translateX(-50%);
  animation: shortcuts-slide-up 320ms cubic-bezier(0.34, 1.25, 0.64, 1);
  transform-origin: bottom center;
  will-change: transform, opacity;
}

.shortcuts-modal.exiting {
  will-change: transform, opacity;
  animation: shortcuts-slide-down 180ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
  pointer-events: none;
}

.shortcuts-modal-inner {
  background: linear-gradient(180deg, #ffffff 0%, #fcfcfc 100%);
  box-shadow: 
    0 1px 3px rgba(0, 0, 0, 0.04),
    0 2px 6px rgba(0, 0, 0, 0.02),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
  border: 1px solid rgba(235, 238, 245, 0.9);
  position: relative;
  min-width: fit-content;
  transition: width 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Top highlight for skeuomorphic depth */
.shortcuts-modal-inner::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.15) 0%, transparent 100%);
  border-radius: 8px 8px 0 0;
  pointer-events: none;
}

@keyframes shortcuts-slide-up {
  0% {
    opacity: 0;
    transform: translateX(-50%) translateY(10px);
  }
  60% {
    opacity: 1;
    transform: translateX(-50%) translateY(-1px);
  }
  100% {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

@keyframes shortcuts-slide-down {
  0% {
    opacity: 1;
    transform: translateX(-50%) translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateX(-50%) translateY(6px) scale(0.98);
  }
}

/* Music status tab - dark skeuomorphic style matching video component */
.music-status-tab {
  bottom: calc(100% + 10px);
  /* Center over the button, accounting for wrapper's asymmetric padding (pl-6px pr-12px) */
  left: calc(var(--music-pill-width) / 2 - 3px);
  transform: translateX(-50%);
  animation: tab-slide-up 320ms cubic-bezier(0.34, 1.25, 0.64, 1);
  transform-origin: bottom center;
  will-change: transform, opacity;
}

.music-status-tab.exiting {
  will-change: transform, opacity;
  animation: tab-slide-down 180ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
  pointer-events: none;
}

.status-tab-inner {
  background: linear-gradient(180deg, #2a2a2b 0%, #1f1f20 100%);
  box-shadow: 
    0 2px 8px rgba(0, 0, 0, 0.3),
    0 4px 16px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    inset 0 -1px 0 rgba(0, 0, 0, 0.5);
  border: 1px solid rgba(255, 255, 255, 0.08);
  position: relative;
  min-width: fit-content;
  transition: width 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Top highlight for skeuomorphic depth */
.status-tab-inner::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.06) 0%, transparent 100%);
  border-radius: 8px 8px 0 0;
  pointer-events: none;
}

@keyframes tab-slide-up {
  0% {
    opacity: 0;
    transform: translateX(-50%) translateY(10px);
  }
  60% {
    opacity: 1;
    transform: translateX(-50%) translateY(-1px);
  }
  100% {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

@keyframes tab-slide-down {
  0% {
    opacity: 1;
    transform: translateX(-50%) translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateX(-50%) translateY(6px) scale(0.98);
  }
}

/* Audio waveform - dynamic organic animation */
.audio-waveform {
  height: 14px;
  display: flex;
  align-items: flex-end;
}

.waveform-bar {
  display: block;
  width: 2.5px;
  background-color: #22c55e;
  border-radius: 1px;
  will-change: height;
}

.waveform-bar.bar-1 {
  animation: wave-1 1.6s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.waveform-bar.bar-2 {
  animation: wave-2 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  animation-delay: 0.1s;
}

.waveform-bar.bar-3 {
  animation: wave-3 1.7s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  animation-delay: 0.2s;
}

.waveform-bar.bar-4 {
  animation: wave-4 1.4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  animation-delay: 0.15s;
}

@keyframes wave-1 {
  0%, 100% { height: 5px; }
  20% { height: 11px; }
  40% { height: 7px; }
  60% { height: 13px; }
  80% { height: 6px; }
}

@keyframes wave-2 {
  0%, 100% { height: 7px; }
  25% { height: 12px; }
  50% { height: 4px; }
  75% { height: 10px; }
}

@keyframes wave-3 {
  0%, 100% { height: 6px; }
  30% { height: 4px; }
  50% { height: 12px; }
  70% { height: 8px; }
}

@keyframes wave-4 {
  0%, 100% { height: 4px; }
  20% { height: 10px; }
  40% { height: 5px; }
  60% { height: 11px; }
  80% { height: 6px; }
}

/* Music pill dynamic width transition - uses CSS custom property for reliable sizing */
.music-pill-wrapper {
  width: var(--music-pill-width, 205px);
  transition: width 500ms cubic-bezier(0.34, 1.2, 0.64, 1);
}

.music-pill-wrapper .music-text-container {
  transition: max-width 500ms cubic-bezier(0.34, 1.2, 0.64, 1);
}

.music-pill-wrapper .music-text-container p {
  transition: max-width 500ms cubic-bezier(0.34, 1.2, 0.64, 1);
}

/* Music player button - transparent click/hover target that never moves */
.music-player-button {
  position: relative;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  overflow: visible;
  outline: none;
  background: transparent;
  border: none;
}

/* Inner visual container - this is what animates and shows hover styles.
   The button itself stays put so hover is never lost at edges/corners. */
.music-button-inner {
  display: flex;
  align-items: center;
  width: 100%;
  height: 100%;
  gap: 10px;
  padding-left: 6px;
  padding-right: 16px;
  border-radius: 8px;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(252, 252, 252, 0) 100%);
  border: 1px solid rgba(235, 238, 245, 0);
  position: relative;
  transition: all 250ms cubic-bezier(0.34, 1.2, 0.64, 1);
}

.music-button-inner::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, transparent 100%);
  border-radius: 8px 8px 0 0;
  pointer-events: none;
  opacity: 0;
  transition: all 250ms cubic-bezier(0.34, 1.2, 0.64, 1);
}

/* Hover styles - button:hover drives inner visual changes */
.music-player-button:hover .music-button-inner {
  background: linear-gradient(180deg, #fafafa 0%, #f5f5f6 100%);
  box-shadow:
    0 2px 4px rgba(0, 0, 0, 0.04),
    0 1px 2px rgba(0, 0, 0, 0.02),
    inset 0 0.5px 0 rgba(255, 255, 255, 0.6),
    inset 0 -0.5px 0 rgba(0, 0, 0, 0.01);
  border: 1px solid rgba(235, 238, 245, 0.85);
  transform: translateY(-1.5px);
}

.music-player-button:hover .music-button-inner::before {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.15) 0%, transparent 100%);
  opacity: 1;
}

.music-player-button:active .music-button-inner {
  background: linear-gradient(180deg, #f0f0f2 0%, #f5f5f6 100%);
  box-shadow:
    inset 0 1px 2px rgba(0, 0, 0, 0.05),
    inset 0 0.5px 1px rgba(0, 0, 0, 0.03);
  border: 1px solid rgba(220, 224, 235, 0.8);
  transform: translateY(0px) scale(0.995);
  transition: all 80ms cubic-bezier(0.4, 0, 0.2, 1);
}

.music-player-button:active .music-button-inner::before {
  opacity: 0.5;
}

/* Skeuomorphic nav buttons - matches bottom button style */
.nav-button {
  background: linear-gradient(180deg, #ffffff 0%, #fefefe 100%);
  box-shadow:
    0 0.5px 1px rgba(0, 0, 0, 0.03),
    0 1px 1px rgba(0, 0, 0, 0.02),
    inset 0 0.5px 0 rgba(255, 255, 255, 0.6),
    inset 0 -0.5px 0 rgba(0, 0, 0, 0.015);
  border: 1px solid rgba(235, 238, 245, 0.85);
  position: relative;
  transition: all 180ms cubic-bezier(0.34, 1.2, 0.64, 1);
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  /* Safari text alignment fix */
  -webkit-box-align: center;
  line-height: 1;
}

/* Fix Safari text alignment in nav buttons */
.nav-button p,
.nav-button span {
  margin: 0;
  padding: 0;
  line-height: 1;
  display: flex;
  align-items: center;
  -webkit-font-smoothing: antialiased;
}

.nav-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.08) 0%, transparent 100%);
  border-radius: 8px 8px 0 0;
  pointer-events: none;
  transition: all 180ms cubic-bezier(0.34, 1.2, 0.64, 1);
}

.nav-button:hover {
  background: linear-gradient(180deg, #fafafa 0%, #f5f5f6 100%);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.06),
    0 1px 3px rgba(0, 0, 0, 0.04),
    inset 0 0.5px 0 rgba(255, 255, 255, 0.6),
    inset 0 -0.5px 0 rgba(0, 0, 0, 0.025);
  border: 1px solid rgba(225, 228, 238, 0.8);
}

.nav-button:hover::before {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.15) 0%, transparent 100%);
}

.nav-button:active {
  background: linear-gradient(180deg, #f0f0f2 0%, #f5f5f6 100%);
  box-shadow:
    inset 0 1px 2px rgba(0, 0, 0, 0.07),
    inset 0 0.5px 1px rgba(0, 0, 0, 0.04),
    0 0.5px 1px rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(220, 224, 235, 0.85);
  transform: translateY(0px) scale(0.995);
  transition: all 70ms cubic-bezier(0.4, 0, 0.2, 1);
}

.nav-button:active::before {
  opacity: 0.5;
}

/* Skeuomorphic bottom buttons - subtle and light */
.bottom-button {
  background: linear-gradient(180deg, #ffffff 0%, #fefefe 100%);
  box-shadow:
    0 0.5px 1px rgba(0, 0, 0, 0.03),
    0 1px 1px rgba(0, 0, 0, 0.02),
    inset 0 0.5px 0 rgba(255, 255, 255, 0.6),
    inset 0 -0.5px 0 rgba(0, 0, 0, 0.015);
  border: 1px solid rgba(235, 238, 245, 0.85);
  position: relative;
  transition: all 180ms cubic-bezier(0.34, 1.2, 0.64, 1);
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  /* Safari text alignment fix */
  -webkit-box-align: center;
  line-height: 1;
}

/* Fix Safari text alignment in buttons */
.bottom-button p,
.bottom-button span {
  margin: 0;
  padding: 0;
  line-height: 1;
  /* Safari fix: ensure consistent vertical alignment */
  display: flex;
  align-items: center;
  -webkit-font-smoothing: antialiased;
}

/* Fix Safari text alignment in search button */
.nav-search-button span,
.nav-search-button input {
  margin: 0;
  line-height: 1;
  -webkit-font-smoothing: antialiased;
  -webkit-box-align: center;
}

/* Transform applied from static parent to prevent hover flicker */
.hover-trigger:hover > .nav-search-button {
  transform: translateY(-0.5px);
}

/* Safari-specific fix: adjust search button text position */
.safari .nav-search-button > span:first-child {
  transform: translateY(0.5px);
}

/* Shared border between adjacent buttons - seamless connection */
/* Buttons are inside .hover-trigger wrappers for flicker prevention */
.hover-trigger + .hover-trigger > .bottom-button {
  margin-left: 0;
  border-left: 1px solid rgba(235, 238, 245, 0.85);
}

/* First button removes right border to share single divider line */
.hover-trigger:has(+ .hover-trigger) > .bottom-button {
  border-right: none;
}

/* Preserve seamless divider on hover/active states */
.hover-trigger:has(+ .hover-trigger) > .bottom-button:hover,
.hover-trigger:has(+ .hover-trigger) > .bottom-button:active,
.hover-trigger:has(+ .hover-trigger) > .bottom-button.active {
  border-right: none;
}

.hover-trigger + .hover-trigger > .bottom-button:hover,
.hover-trigger + .hover-trigger > .bottom-button:active,
.hover-trigger + .hover-trigger > .bottom-button.active {
  border-left: 1px solid rgba(235, 238, 245, 0.85);
}

.bottom-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.08) 0%, transparent 100%);
  border-radius: 8px 8px 0 0;
  pointer-events: none;
  transition: all 180ms cubic-bezier(0.34, 1.2, 0.64, 1);
}

.bottom-button:hover {
  background: linear-gradient(180deg, #fafafa 0%, #f5f5f6 100%);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.06),
    0 1px 3px rgba(0, 0, 0, 0.04),
    inset 0 0.5px 0 rgba(255, 255, 255, 0.6),
    inset 0 -0.5px 0 rgba(0, 0, 0, 0.025);
  border: 1px solid rgba(225, 228, 238, 0.8);
}

/* Transform applied from static parent to prevent hover flicker */
.hover-trigger:hover > .bottom-button {
  transform: translateY(-0.5px);
}

.bottom-button:hover::before {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.15) 0%, transparent 100%);
}

.bottom-button:active,
.bottom-button.active {
  background: linear-gradient(180deg, #f0f0f2 0%, #f5f5f6 100%);
  box-shadow: 
    inset 0 1px 2px rgba(0, 0, 0, 0.07),
    inset 0 0.5px 1px rgba(0, 0, 0, 0.04),
    0 0.5px 1px rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(220, 224, 235, 0.85);
  transform: translateY(0px) scale(0.995);
  transition: all 70ms cubic-bezier(0.4, 0, 0.2, 1);
}

.bottom-button:active::before,
.bottom-button.active::before {
  opacity: 0.5;
}

/* Skeuomorphic contact modal outer container */
.contact-modal-outer {
  background: linear-gradient(180deg, #fafafa 0%, #f5f5f6 100%);
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.08),
    0 4px 16px rgba(0, 0, 0, 0.04),
    inset 0 1px 0 rgba(255, 255, 255, 0.6),
    inset 0 -1px 0 rgba(0, 0, 0, 0.03);
  border: 1px solid rgba(235, 238, 245, 0.9);
  position: relative;
  overflow: visible;
}


/* Skeuomorphic contact modal inner card */
.contact-modal-inner {
  background: linear-gradient(180deg, #ffffff 0%, #fcfcfc 100%);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.03),
    inset 0 1px 0 rgba(255, 255, 255, 0.8),
    inset 0 -1px 0 rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(235, 238, 245, 0.85);
  border-top-left-radius: 18px;
  border-top-right-radius: 18px;
  border-bottom-left-radius: 12px;
  border-bottom-right-radius: 12px;
  position: relative;
  overflow: visible;
}


/* Skeuomorphic contact modal icon boxes */
.contact-icon-box {
  background: linear-gradient(180deg, #ffffff 0%, #fafafa 100%);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.04),
    inset 0 1px 0 rgba(255, 255, 255, 0.9),
    inset 0 -1px 0 rgba(0, 0, 0, 0.02);
  border: 1px solid #EBEEF5;
  position: relative;
  transition: box-shadow 150ms ease, border-color 150ms ease;
}

.contact-icon-box::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.5) 0%, transparent 100%);
  border-radius: 7px 7px 0 0;
  pointer-events: none;
}

/* Contact row hover states - matches music pill pattern */
/* Outer element (button/anchor) stays static with extended hitbox */
.contact-row {
  background: transparent;
  border: none;
  position: relative;
  user-select: none;
  overflow: visible;
  outline: none;
}

/* Extended hitbox on contact-row for clickable area */
.contact-row::before {
  content: '';
  position: absolute;
  top: -8px;
  left: -10px;
  right: -10px;
  bottom: -8px;
  background: transparent;
  border-radius: 14px;
  pointer-events: auto;
  z-index: 1;
}

/* Inner visual container - this transforms on hover, outer stays put */
.contact-row-inner {
  position: relative;
  transition: transform 200ms cubic-bezier(0.34, 1.2, 0.64, 1);
  will-change: transform;
}

/* Hover background box on inner element */
.contact-row-inner::after {
  content: '';
  position: absolute;
  top: -2px;
  left: 4px;
  right: 4px;
  bottom: -2px;
  background: transparent;
  border: 1px solid transparent;
  border-radius: 10px;
  pointer-events: none;
  transition: background 200ms cubic-bezier(0.34, 1.2, 0.64, 1),
              box-shadow 200ms cubic-bezier(0.34, 1.2, 0.64, 1),
              border-color 200ms cubic-bezier(0.34, 1.2, 0.64, 1);
  z-index: -1;
}

/* Hover: contact-row:hover drives inner visual changes */
.contact-row:hover .contact-row-inner {
  transform: translateY(-1px);
}

.contact-row:hover .contact-row-inner::after {
  background: linear-gradient(180deg, #fafafa 0%, #f7f7f8 100%);
  box-shadow:
    0 2px 6px rgba(0, 0, 0, 0.05),
    0 1px 2px rgba(0, 0, 0, 0.03),
    inset 0 1px 0 rgba(255, 255, 255, 0.8),
    inset 0 -0.5px 0 rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(220, 224, 235, 0.9);
}

/* Active: pressed state */
.contact-row:active .contact-row-inner {
  transform: translateY(0) scale(0.995);
  transition: all 80ms cubic-bezier(0.4, 0, 0.2, 1);
}

.contact-row:active .contact-row-inner::after {
  background: linear-gradient(180deg, #f3f3f5 0%, #f7f7f8 100%);
  box-shadow:
    inset 0 1px 2px rgba(0, 0, 0, 0.05),
    inset 0 0.5px 1px rgba(0, 0, 0, 0.03);
  border: 1px solid rgba(210, 214, 225, 0.9);
}

/* Hover state for icon box */
.contact-row:hover .contact-icon-box {
  box-shadow:
    0 2px 4px rgba(0, 0, 0, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.95),
    inset 0 -1px 0 rgba(0, 0, 0, 0.03);
  border-color: #E0E3EA;
}

/* Contact icon micro animations - handled by Framer Motion in SlideUpModal.jsx */
/* CSS animations removed to avoid conflicts with Framer Motion */

.contact-row:active .contact-icon-box {
  box-shadow:
    inset 0 1px 2px rgba(0, 0, 0, 0.06),
    inset 0 0 1px rgba(0, 0, 0, 0.04);
  border-color: #DCDFE6;
}

/* Coordinates link expanded hitbox */
.coord-link {
  position: relative;
}

.coord-link::before {
  content: '';
  position: absolute;
  top: -10px;
  left: -12px;
  right: -12px;
  bottom: -10px;
  background: transparent;
  pointer-events: auto;
  z-index: 1;
}

/* Copy tooltip pill - mouse tracking */
.copy-tooltip-pill {
  background: rgba(255, 255, 255, 0.95);
  color: #52525b;
  border: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow:
    0 4px 12px rgba(0, 0, 0, 0.08),
    0 2px 4px rgba(0, 0, 0, 0.04);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  transition: all 200ms ease;
}

.copy-tooltip-pill:active {
  transform: scale(0.96);
}

.copy-tooltip-pill.copied {
  background: rgba(241, 248, 255, 0.98);
  color: #4a90b8;
  border-color: rgba(74, 144, 184, 0.2);
}

/* Skeuomorphic contact modal buttons - light blue theme */
.contact-button {
  background: #4A9EFF;
  box-shadow:
    0 1px 2px rgba(74, 158, 255, 0.15),
    0 2px 4px rgba(74, 158, 255, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.2),
    inset 0 -1px 0 rgba(0, 0, 0, 0.06);
  border: 1px solid rgba(90, 176, 255, 0.25);
  position: relative;
  transition: all 180ms cubic-bezier(0.34, 1.2, 0.64, 1);
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

.contact-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.22) 0%, transparent 100%);
  border-radius: 7px 7px 0 0;
  pointer-events: none;
  transition: all 180ms cubic-bezier(0.34, 1.2, 0.64, 1);
}

.contact-button:hover {
  background: #5AB0FF;
  box-shadow:
    0 2px 4px rgba(74, 158, 255, 0.18),
    0 4px 8px rgba(74, 158, 255, 0.12),
    inset 0 1px 0 rgba(255, 255, 255, 0.25),
    inset 0 -1px 0 rgba(0, 0, 0, 0.06);
  border: 1px solid rgba(90, 176, 255, 0.3);
}

.contact-button:hover::before {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.28) 0%, transparent 100%);
}

.contact-button:active {
  background: #3D8EFF;
  box-shadow:
    inset 0 1px 2px rgba(0, 0, 0, 0.12),
    inset 0 0.5px 1px rgba(0, 0, 0, 0.08),
    0 1px 1px rgba(74, 158, 255, 0.1);
  border: 1px solid rgba(61, 142, 255, 0.3);
  transform: translateY(0) scale(0.98);
  transition: all 60ms ease;
}

.contact-button:active::before {
  opacity: 0.5;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.12) 0%, transparent 100%);
}

/* Light mode contact modal container (default) */
.contact-modal-container {
  background: linear-gradient(180deg, #ffffff 0%, #fcfcfc 100%);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.04),
    0 2px 4px rgba(0, 0, 0, 0.02),
    0 4px 8px rgba(0, 0, 0, 0.02),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(235, 238, 245, 0.9);
}

.contact-modal-highlight {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.1) 0%, transparent 100%);
}

/* Dark mode contact modal - clean dark style */
.contact-modal-dark {
  background: #1c1c1e !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4) !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
}

.contact-modal-dark .contact-modal-highlight {
  background: transparent !important;
}

/* Dark mode inner card */
.contact-card-dark {
  background: #232325;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

/* Dark mode divider */
.contact-divider-dark {
  background: rgba(255, 255, 255, 0.08);
}

/* Dark mode text colors */
.contact-title-dark {
  color: #e6eaee;
}

.contact-description-dark {
  color: #969494;
}

/* Dark mode contact buttons - subtle skeuomorphic style */
.contact-button-dark {
  background: linear-gradient(180deg, #333335 0%, #2a2a2c 100%);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.06);
  position: relative;
  transition: all 150ms ease;
  user-select: none;
}

.contact-button-dark:hover {
  background: linear-gradient(180deg, #3c3c3e 0%, #333335 100%);
  box-shadow:
    0 2px 4px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.contact-button-dark:active {
  background: linear-gradient(180deg, #262628 0%, #2a2a2c 100%);
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.04);
  transform: translateY(0) scale(0.98);
  transition: all 50ms ease;
}

.contact-button-dark span {
  color: #d1d1d1;
}

/* Dark mode footer text */
.contact-footer-dark {
  color: #969494;
}

.contact-footer-dark svg path {
  fill: #969494;
}

/* Skeuomorphic face icon container */
.face-icon-container {
  background: linear-gradient(180deg, #ffffff 0%, #fcfcfc 100%);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.015),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(0, 0, 0, 0.01);
  border: 1px solid rgba(235, 238, 245, 0.9);
  position: relative;
  transition: all 250ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

.face-icon-container:hover {
  background: linear-gradient(180deg, #fefefe 0%, #fafafa 100%);
  box-shadow:
    0 2px 6px rgba(0, 0, 0, 0.06),
    0 1px 2px rgba(0, 0, 0, 0.03),
    inset 0 1px 0 rgba(255, 255, 255, 0.6),
    inset 0 -1px 0 rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(230, 233, 240, 0.9);
}

.face-icon-container:active {
  background: linear-gradient(180deg, #f3f3f5 0%, #f7f7f8 100%);
  box-shadow:
    inset 0 1px 2px rgba(0, 0, 0, 0.08),
    inset 0 0.5px 1px rgba(0, 0, 0, 0.05),
    0 0.5px 1px rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(220, 224, 235, 0.85);
  transform: translateY(0px) scale(0.99);
  transition: all 80ms cubic-bezier(0.4, 0, 0.2, 1);
}

.face-icon-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.15) 0%, transparent 100%);
  border-radius: 12px 12px 0 0;
  pointer-events: none;
}

/* Home button wrapper - unified hover for face + name */
.home-button {
  background: transparent;
  border: 1px solid transparent;
  transition: all 250ms cubic-bezier(0.34, 1.2, 0.64, 1);
}

.home-button:hover {
  background: linear-gradient(180deg, #fafafa 0%, #f5f5f6 100%);
  border: 1px solid rgba(235, 238, 245, 0.9);
  box-shadow:
    0 2px 4px rgba(0, 0, 0, 0.04),
    0 1px 2px rgba(0, 0, 0, 0.02),
    inset 0 0.5px 0 rgba(255, 255, 255, 0.6);
}

/* Transform applied from static parent to prevent hover flicker */
.gary-hover-wrapper:hover .home-button {
  transform: translateY(-1.5px);
}

.home-button:hover .face-icon-container {
  /* Keep face icon styling but prevent double-hover effect */
  background: linear-gradient(180deg, #ffffff 0%, #fcfcfc 100%);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.015),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(0, 0, 0, 0.01);
  border: 1px solid rgba(235, 238, 245, 0.7);
  transform: none;
}

/* Activity tracker color transitions on hover */
.home-button:hover .activity-added,
.home-button.gary-active .activity-added {
  color: #6AAA68;
}

.home-button:hover .activity-removed,
.home-button.gary-active .activity-removed {
  color: #FC884A;
}

.home-button:active {
  background: linear-gradient(180deg, #f0f0f2 0%, #f5f5f6 100%);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
  border: 1px solid rgba(220, 224, 235, 0.8);
  transform: translateY(0px) scale(0.995);
  transition: all 80ms cubic-bezier(0.4, 0, 0.2, 1);
}

.home-button:active .face-icon-container {
  background: linear-gradient(180deg, #f3f3f5 0%, #f7f7f8 100%);
  box-shadow:
    inset 0 1px 2px rgba(0, 0, 0, 0.08),
    inset 0 0.5px 1px rgba(0, 0, 0, 0.05);
  border: 1px solid rgba(220, 224, 235, 0.85);
  transform: none;
}

/* Keep activity colors on active state too */
.home-button:active .activity-added {
  color: #6AAA68;
}

.home-button:active .activity-removed {
  color: #FC884A;
}

/* Face icon frightened/jitter animation */
@keyframes face-jitter {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-0.5px, 0.3px); }
  20% { transform: translate(0.5px, -0.3px); }
  30% { transform: translate(-0.3px, -0.5px); }
  40% { transform: translate(0.3px, 0.5px); }
  50% { transform: translate(-0.5px, -0.3px); }
  60% { transform: translate(0.5px, 0.3px); }
  70% { transform: translate(0.3px, -0.5px); }
  80% { transform: translate(-0.3px, 0.5px); }
  90% { transform: translate(0.5px, -0.3px); }
}

.face-icon-container.frightened {
  animation: face-jitter 0.15s infinite;
}

/* Detection zone - invisible but captures mouse events */
.face-detection-zone {
  background: transparent;
  cursor: default;
}

/* Face hover info box - dropdown animation */
.face-hover-box {
  top: 100%;
  left: 0;
  padding-top: 4px; /* Visual gap but still part of hover area */
  animation: face-box-dropdown 320ms cubic-bezier(0.34, 1.25, 0.64, 1);
  transform-origin: top left;
  will-change: transform, opacity;
}

.face-hover-box.exiting {
  will-change: transform, opacity;
  animation: face-box-dropup 180ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
  pointer-events: none;
}

.face-hover-box-inner {
  background: linear-gradient(180deg, #2a2a2b 0%, #1f1f20 100%);
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.3),
    0 4px 16px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    inset 0 -1px 0 rgba(0, 0, 0, 0.5);
  border: 1px solid rgba(255, 255, 255, 0.08);
  position: relative;
}

/* Top highlight for skeuomorphic depth */
.face-hover-box-inner::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.06) 0%, transparent 100%);
  border-radius: 12px 12px 0 0;
  pointer-events: none;
}

/* Commit button hover effect */
.commit-toggle-btn:hover {
  background: rgba(255, 255, 255, 0.04);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
}

.commit-toggle-btn:hover .commit-arrow path {
  stroke: #e6eaee;
}

.commit-toggle-btn:active {
  background: rgba(0, 0, 0, 0.1);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2);
}

@keyframes face-box-dropdown {
  0% {
    opacity: 0;
    transform: translateY(-10px);
  }
  60% {
    opacity: 1;
    transform: translateY(1px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes face-box-dropup {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-6px) scale(0.98);
  }
}

/* Skeuomorphic time badge - soft depth and tactile feel */
[class*="bg-white"][class*="border-[#ebeef5]"][class*="rounded-[20px]"] {
  background: linear-gradient(180deg, #ffffff 0%, #fcfcfc 100%);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.015),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(0, 0, 0, 0.01);
  border: 1px solid rgba(235, 238, 245, 0.9);
  position: relative;
  transition: all 250ms cubic-bezier(0.34, 1.56, 0.64, 1);
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

/* Prevent text selection in all child elements */
[class*="bg-white"][class*="border-[#ebeef5]"][class*="rounded-[20px]"] * {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

/* Hover state - lifted, highlighted, ready to press */
[class*="bg-white"][class*="border-[#ebeef5]"][class*="rounded-[20px]"]:hover {
  background: linear-gradient(180deg, #fefefe 0%, #fafafa 100%) !important;
  box-shadow:
    0 2px 6px rgba(0, 0, 0, 0.06),
    0 1px 2px rgba(0, 0, 0, 0.03),
    inset 0 1px 0 rgba(255, 255, 255, 0.6),
    inset 0 -1px 0 rgba(0, 0, 0, 0.02) !important;
  border: 1px solid rgba(230, 233, 240, 0.9) !important;
}

/* Transform applied from static parent to prevent hover flicker */
.hover-trigger:hover > [class*="bg-white"][class*="border-[#ebeef5]"][class*="rounded-[20px]"] {
  transform: translateY(-0.5px) !important;
}

/* Clock weather collapse bounce animation */
@keyframes clockWeatherCollapse {
  0% { width: 44px; }
  60% { width: 0px; }
  75% { width: 3px; }
  100% { width: 0px; }
}

.clock-weather-collapse {
  animation: clockWeatherCollapse 350ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Arrow key navigation indicator animation - 1s total */
@keyframes arrowKeyAppear {
  0% {
    opacity: 0;
    transform: scale(0.85);
  }
  10% {
    opacity: 1;
    transform: scale(1.06);
  }
  20% {
    opacity: 1;
    transform: scale(0.98);
  }
  30% {
    opacity: 1;
    transform: scale(1);
  }
  70% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    opacity: 0;
    transform: scale(0.96);
  }
}

/* Clock pill: no hover effects at all - high specificity to override general hover rules */
.clock-pill,
.clock-pill:hover,
.clock-pill:active,
.hover-trigger:hover > .clock-pill,
.hover-trigger > .clock-pill:hover,
.hover-trigger:hover > .clock-pill[class*="bg-white"][class*="border-[#ebeef5]"][class*="rounded-[20px]"],
.hover-trigger:hover > [class*="bg-white"][class*="border-[#ebeef5]"][class*="rounded-[20px]"].clock-pill {
  transform: none !important;
  background: white !important;
  box-shadow: 0 0.5px 1px rgba(0,0,0,0.03), 0 1px 1px rgba(0,0,0,0.02), inset 0 0.5px 0 rgba(255,255,255,0.6), inset 0 -0.5px 0 rgba(0,0,0,0.015) !important;
  border: 1px solid #ebeef5 !important;
}

/* Active/pressed state - pushed down, darker, inset - more subtle like bottom buttons */
[class*="bg-white"][class*="border-[#ebeef5]"][class*="rounded-[20px]"]:active {
  background: linear-gradient(180deg, #f3f3f5 0%, #f7f7f8 100%) !important;
  box-shadow: 
    inset 0 1px 2px rgba(0, 0, 0, 0.08),
    inset 0 0.5px 1px rgba(0, 0, 0, 0.05),
    0 0.5px 1px rgba(0, 0, 0, 0.02) !important;
  border: 1px solid rgba(220, 224, 235, 0.85) !important;
  transform: translateY(0px) scale(0.99) !important;
  transition: all 80ms cubic-bezier(0.4, 0, 0.2, 1) !important;
}

[class*="bg-white"][class*="border-[#ebeef5]"][class*="rounded-[20px]"]::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.15) 0%, transparent 100%);
  border-radius: 20px 20px 0 0;
  pointer-events: none;
}

/* Skeuomorphic black video info box - depth and dimension */
.black-box-slide {
  background: linear-gradient(180deg, #2a2a2b 0%, #1f1f20 100%);
  box-shadow: 
    0 2px 8px rgba(0, 0, 0, 0.3),
    0 4px 16px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    inset 0 -1px 0 rgba(0, 0, 0, 0.5);
  border: 1px solid rgba(255, 255, 255, 0.08);
  position: relative;
}

.black-box-slide::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 30%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.06) 0%, transparent 100%);
  border-radius: 14px 14px 0 0;
  pointer-events: none;
  z-index: 1;
}

.black-box-slide::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 20%;
  background: linear-gradient(0deg, rgba(0, 0, 0, 0.3) 0%, transparent 100%);
  border-radius: 0 0 14px 14px;
  pointer-events: none;
  z-index: 1;
}

/* Skeuomorphic dark section - matches black-box-slide depth treatment */
.dark-section-skeuomorphic {
  background: linear-gradient(180deg, #1e1e1f 0%, #161617 100%);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    inset 0 -1px 0 rgba(0, 0, 0, 0.5);
  border-top: 1px solid rgba(255, 255, 255, 0.08);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  position: relative;
}

.dark-section-skeuomorphic::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 40px;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.025) 0%, transparent 100%);
  pointer-events: none;
  z-index: 1;
}

.dark-section-skeuomorphic::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 40px;
  background: linear-gradient(0deg, rgba(0, 0, 0, 0.3) 0%, transparent 100%);
  pointer-events: none;
  z-index: 1;
}

/* Animated dashed gridlines for hobbies section */
.gridline-vertical {
  width: 1px;
  background-image: repeating-linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.1) 0px,
    rgba(255, 255, 255, 0.1) 6px,
    transparent 6px,
    transparent 12px
  );
  background-size: 1px 12px;
  animation: gridlineMarchV 8s linear infinite;
}

.gridline-horizontal {
  height: 1px;
  background-image: repeating-linear-gradient(
    to right,
    rgba(255, 255, 255, 0.1) 0px,
    rgba(255, 255, 255, 0.1) 6px,
    transparent 6px,
    transparent 12px
  );
  background-size: 12px 1px;
  animation: gridlineMarchH 8s linear infinite;
}

@keyframes gridlineMarchV {
  to {
    background-position-y: -12px;
  }
}

@keyframes gridlineMarchH {
  to {
    background-position-x: -12px;
  }
}

/* Video loading shimmer - subtle sweep animation */
.video-loading-shimmer {
  animation: videoLoadingShimmer 1.5s ease-in-out infinite;
}

@keyframes videoLoadingShimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* Arrow button hover and active states - only affects stroke and arrow path, not fill */
.arrow-svg {
  transition: all 150ms ease-in-out;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
}

.arrow-fill {
  fill: #222122;
  /* Fill stays #222122 always */
}

.arrow-stroke {
  stroke: #4A474A;
  transition: stroke 150ms ease-in-out;
  filter: drop-shadow(0 0.5px 1px rgba(0, 0, 0, 0.4));
}

.arrow-path {
  fill: #4A474A;
  transition: fill 150ms ease-in-out;
}

/* Skeuomorphic arrow button - depth and dimension */
.arrow-button {
  position: relative;
  transition: transform 150ms ease-in-out, filter 150ms ease-in-out;
}

.arrow-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 4.3px;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.04) 0%, transparent 50%, rgba(0, 0, 0, 0.2) 100%);
  pointer-events: none;
  z-index: 1;
}

.arrow-button:hover {
  filter: brightness(1.1);
}

/* Transform applied from static parent to prevent hover flicker */
.hover-trigger:hover > .arrow-button {
  transform: translateY(-1px);
}

.arrow-button:hover .arrow-stroke {
  stroke: #939393;
  transition: stroke 150ms ease-in-out;
}

.arrow-button:hover .arrow-path {
  fill: #939393;
  transition: fill 150ms ease-in-out;
}

.arrow-button:active,
.arrow-button.active {
  transform: translateY(0);
  filter: brightness(0.95);
}

.arrow-button:active .arrow-stroke,
.arrow-button.active .arrow-stroke {
  stroke: #E6EAEE;
  transition: stroke 150ms ease-in-out;
}

.arrow-button:active .arrow-path,
.arrow-button.active .arrow-path {
  fill: #E6EAEE;
  transition: fill 150ms ease-in-out;
}

.video-frame-hover:not(:hover) {
  will-change: auto;
}

/* Video brightness transition - smooth and subtle */
.video-brightness-transition {
  filter: brightness(1);
  transition: filter 500ms ease-in-out, opacity 300ms ease-in-out;
}

.video-frame-hover:hover .video-brightness-transition {
  filter: brightness(1.10);
}

/* Ensure all body text is #87878A except blue fonts */
[class*="text-[#87878A]"] {
  color: #87878A !important;
}

[class*="text-[#87878A]"] p,
[class*="text-[#87878A]"] span:not(.dotted-underline-blue) {
  color: #87878A !important;
}

/* Dotted underline colors - placed at end to override all Tailwind utilities */
/* Blue dotted underline - keep blue color */
span.dotted-underline-blue,
.dotted-underline-blue,
a.dotted-underline-blue {
  text-decoration-color: #9BC8FD !important;
  color: #2480ED !important;
  transition: text-decoration-color 0.15s cubic-bezier(0.44, 0, 0.56, 1);
}

/* Hover state for all blue dotted underlines - change to #2480ED */
span.dotted-underline-blue:hover,
.dotted-underline-blue:hover,
a.dotted-underline-blue:hover {
  text-decoration-color: #2480ED !important;
  cursor: pointer;
}

/* Grey dotted underline - use body text color */
span.dotted-underline-grey,
.dotted-underline-grey,
a.dotted-underline-grey {
  text-decoration-color: #C4C4CD;
  color: #5B5B5E;
  transition: text-decoration-color 0.15s cubic-bezier(0.44, 0, 0.56, 1), color 0.15s cubic-bezier(0.44, 0, 0.56, 1);
}

/* Hover state for all grey dotted underlines - change text to #2480ED and underline to #9AC8FC */
span.dotted-underline-grey:hover,
.dotted-underline-grey:hover,
a.dotted-underline-grey:hover {
  text-decoration-color: #9AC8FC;
  color: #2480ED;
  cursor: pointer;
}


/* Specific color override for complex systems and Coupang - higher specificity override */
[class*="text-[#87878A]"] span.dotted-underline-grey.text-grey-dark,
[class*="text-[#5b5b5e]"] span.dotted-underline-grey.text-grey-dark,
[class*="text-[#87878A]"] a.dotted-underline-grey.text-grey-dark,
[class*="text-[#5b5b5e]"] a.dotted-underline-grey.text-grey-dark {
  color: #5B5B5E !important;
}

/* Hover state for complex systems and Coupang - change text to #2480ED and underline to #9AC8FC */
[class*="text-[#87878A]"] span.dotted-underline-grey.text-grey-dark:hover,
[class*="text-[#5b5b5e]"] span.dotted-underline-grey.text-grey-dark:hover,
[class*="text-[#87878A]"] a.dotted-underline-grey.text-grey-dark:hover,
[class*="text-[#5b5b5e]"] a.dotted-underline-grey.text-grey-dark:hover {
  color: #2480ED !important;
  text-decoration-color: #9AC8FC !important;
  cursor: pointer;
}

/* Coordinates loader animations */
.coord-loader {
  letter-spacing: 0.02em;
  transition: opacity 0.3s ease-in-out;
}

.coord-fade-in {
  opacity: 1;
}

.coord-fade-out {
  opacity: 0;
}

/* Easter egg: Second Breakfasts hover effect */
.easter-egg-second-breakfast {
  position: relative;
  cursor: help;
  transition: all 0.3s ease;
}

.easter-egg-second-breakfast:hover {
  color: #FFB800;
  transform: scale(1.05);
  animation: secondBreakfastShine 3s ease-in-out infinite;
}

@keyframes secondBreakfastShine {
  0%, 100% {
    opacity: 0.85;
  }
  50% {
    opacity: 1;
    text-shadow: 0 0 12px rgba(255, 184, 0, 0.35);
  }
}

/* ===== PERFORMANCE OPTIMIZATIONS ===== */

/* Reduce animations for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .video-frame-hover,
  .black-box-slide,
  .black-box-jiggle,
  .component-loaded {
    animation: none !important;
    transition: none !important;
  }
}

/* Optimize text rendering for performance */
body {
  text-rendering: optimizeSpeed;
}

/* Force hardware acceleration for fixed positioned elements */
.top-nav-container,
.fixed {
  will-change: transform;
  backface-visibility: hidden;
}

/* Optimize image rendering */
img,
video {
  image-rendering: -webkit-optimize-contrast;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}



/* Note: content-visibility: auto was removed from bottom-component-wrapper
   because it breaks hover states on fixed elements */

/* Optimize SVG rendering */
svg {
  shape-rendering: geometricPrecision;
}

/* Reduce paint areas for interactive elements */
button,
a {
  isolation: isolate;
}

/* =================================
   Timeline Component Styles (About Page)
   NYT-inspired scroll-triggered timeline
   ================================= */

/* Timeline container */
.timeline-container {
  padding-left: 8px;
}

/* Horizontal dashed line connector - NYT inspired */
.timeline-horizontal {
  background-image: linear-gradient(
    to right,
    #D4D4D4 0%,
    #D4D4D4 50%,
    transparent 50%,
    transparent 100%
  );
  background-size: 6px 1px; /* 3px dash, 3px gap */
}

/* Milestone states for scroll-triggered reveal */
.milestone-hidden {
  opacity: 0;
  transform: translateY(24px);
  filter: blur(4px);
}

/* Peeking state - entering viewport with blur hint */
.milestone-peeking {
  opacity: 0.4;
  transform: translateY(12px);
  filter: blur(3px);
  /* Gradient mask for subtle peek effect */
  mask-image: linear-gradient(
    to bottom,
    rgba(0,0,0,0.5) 0%,
    rgba(0,0,0,0.2) 70%,
    rgba(0,0,0,0) 100%
  );
  -webkit-mask-image: linear-gradient(
    to bottom,
    rgba(0,0,0,0.5) 0%,
    rgba(0,0,0,0.2) 70%,
    rgba(0,0,0,0) 100%
  );
}

/* Visible state - fully revealed with spring animation */
.milestone-visible {
  opacity: 1;
  transform: translateY(0);
  filter: blur(0);
  mask-image: none;
  -webkit-mask-image: none;
  transition:
    opacity 500ms cubic-bezier(0.4, 0, 0.2, 1),
    transform 600ms cubic-bezier(0.34, 1.25, 0.64, 1),
    filter 400ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Staggered reveal for child elements */
.milestone-visible .timeline-photo {
  transition-delay: 50ms;
}

.milestone-visible .timeline-connector {
  transition-delay: 100ms;
}

.milestone-visible .timeline-caption {
  transition-delay: 150ms;
}

.milestone-visible .timeline-year {
  transition-delay: 200ms;
}

/* Timeline dot subtle pulse on appear */
.milestone-visible .timeline-dot {
  animation: timeline-dot-appear 400ms cubic-bezier(0.34, 1.25, 0.64, 1) 100ms both;
}

@keyframes timeline-dot-appear {
  0% {
    transform: scale(0.5);
    opacity: 0;
  }
  60% {
    transform: scale(1.3);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Photo subtle scale on appear */
.milestone-visible .timeline-photo {
  animation: timeline-photo-appear 500ms cubic-bezier(0.34, 1.25, 0.64, 1) both;
}

@keyframes timeline-photo-appear {
  0% {
    transform: scale(0.9);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .milestone-hidden,
  .milestone-peeking,
  .milestone-visible {
    opacity: 1;
    transform: none;
    filter: none;
    mask-image: none;
    -webkit-mask-image: none;
    transition: none;
  }

  .milestone-visible .timeline-dot,
  .milestone-visible .timeline-photo {
    animation: none;
  }
}

/* ===== About2 Page ===== */
.about2-text-scroll::-webkit-scrollbar {
  display: none;
}
.about2-text-scroll {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Light metadata bar slide-up animation */
.about2-metadata-bar {
  transition: height 450ms cubic-bezier(0.34, 1.35, 0.64, 1);
  overflow: hidden !important;
}

.group:hover .about2-metadata-bar {
  height: 130px !important;
  transition: height 400ms cubic-bezier(0.34, 1.25, 0.64, 1);
}

.group:not(:hover) .about2-metadata-bar {
  transition: height 450ms cubic-bezier(0.34, 1.35, 0.64, 1);
}

/* Light metadata fade-in for camera info */
.about2-metadata-fade {
  transition: opacity 450ms cubic-bezier(0.34, 1.35, 0.64, 1),
              transform 450ms cubic-bezier(0.34, 1.35, 0.64, 1);
  opacity: 0;
  transform: translateY(10px);
}

.group:hover .about2-metadata-fade {
  transition: opacity 400ms cubic-bezier(0.34, 1.25, 0.64, 1),
              transform 400ms cubic-bezier(0.34, 1.25, 0.64, 1);
  opacity: 1;
  transform: translateY(0);
}

.group:not(:hover) .about2-metadata-fade {
  transition: opacity 450ms cubic-bezier(0.34, 1.35, 0.64, 1),
              transform 450ms cubic-bezier(0.34, 1.35, 0.64, 1);
}

/* About Panel - slide-in from right */
.about-panel {
  position: fixed;
  top: 0;
  right: 0;
  height: 100vh;
  width: 385px;
  background: #ffffff;
  border-left: 1px solid #eaeaea;
  z-index: 50;
  transform: translateX(100%);
  transition: transform 350ms cubic-bezier(0.4, 0, 0.6, 1);
  overflow-y: auto;
}

.about-panel.open {
  transform: translateX(0);
  transition: transform 680ms cubic-bezier(0.16, 1, 0.3, 1);
}

/* Hide scrollbar but keep scrollable */
.about-panel::-webkit-scrollbar {
  display: none;
}
.about-panel {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Sequential text reveal */
@keyframes aboutReveal {
  from {
    opacity: 0;
    transform: translateY(3px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.about-panel.open .about-reveal {
  animation: aboutReveal 1100ms cubic-bezier(0.25, 1, 0.5, 1) both;
  animation-delay: calc(var(--reveal-i, 0) * 30ms + 500ms);
}

.about-flowers-wrap {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  pointer-events: none;
  overflow: hidden;
  opacity: 0;
  transition: opacity 500ms cubic-bezier(0.25, 1, 0.5, 1);
}

.about-flowers-wrap.visible {
  opacity: 1;
  pointer-events: auto;
  transition: opacity 1200ms cubic-bezier(0.25, 1, 0.5, 1);
}

.about-panel-backdrop {
  position: fixed;
  inset: 0;
  z-index: 40;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  background: rgba(252, 252, 252, 0.4);
  opacity: 0;
  pointer-events: none;
  transition: opacity 600ms cubic-bezier(0.16, 1, 0.3, 1);
}

.about-panel-backdrop.open {
  opacity: 1;
  pointer-events: auto;
}
